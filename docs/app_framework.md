# Pétmongo App 框架规划（MVP）

本文件用于对齐移动端优先、后续 Web、必须后台管理、阿里云存储的数据型 App 结构与落地步骤。

## 1. 产品定位与范围
- 定位：宠物友好资源信息型 App（真实性优先）
- 目标：结构化采集并可被大众使用的宠物友好资源
- 合规边界：平台仅为信息服务方，不承担出行/看护责任
- MVP 不做：实时定位、即时匹配、强社交、交易闭环

## 2. 技术栈建议
### 2.1 客户端
- 移动端：React Native + Expo（iOS/Android）
- Web 端：Next.js（复用组件与逻辑，后续接入）
- UI 风格：竖屏、卡片化、轻动效、二次元可爱风

### 2.2 后端与后台
- API 服务：NestJS
- 数据库：PostgreSQL
- 缓存：Redis
- 对象存储：阿里云 OSS（图片/证明材料）
- 管理后台：React + Ant Design（或 Next.js + Ant Design）

## 3. 业务模块拆分（MVP）
1) 资源信息模块  
2) 资源提交与审核模块  
3) 极简账户模块  
4) 合规提示模块  
5) 后台管理模块  

## 4. 页面结构（移动端）
### 4.1 公共结构
- 顶部：城市选择 + 入口
- 主体：卡片流
- 底部：Tab（首页 / 发布 / 我的）

### 4.2 页面清单
- 首页：城市入口 + 分类入口 + 推荐/最新
- 列表页：类型/标签/适配/时间筛选
- 详情页：适配性、风险提示、真实性来源、推荐时段
- 资源提交页：最小字段 + 模糊位置 + 说明/照片
- 账户页：基础资料 + 可选宠物档案 + 我的提交

## 5. 后台管理（必做）
- 审核队列：通过/驳回（驳回原因）
- 内容管理：资源上下架/编辑
- 词典配置：城市/分类/标签/安全提示
- 用户管理：基础信息、提交记录
- 数据概览：提交量、通过率、活跃城市

## 6. 数据模型（核心字段草案）
### 6.1 资源 Resource
- id, 名称, 类型, 城市, 位置(模糊), 标签
- 适配性（犬种/体型/限制）
- 安全提示（结构化标签）
- 推荐时段
- 真实性来源（到访/照片/多次验证）
- 状态（草稿/待审/上架/退回）

### 6.2 提交 Submission
- id, 资源字段快照, 提交人, 时间
- 审核状态, 审核人, 审核备注

### 6.3 用户 User
- id, 登录方式, 昵称(可选)
- 宠物档案（可选/可撤回）

### 6.4 词典表 Dictionary
- 城市、分类、标签、风险提示等

## 7. 审核流（状态机）
草稿 → 待审 →（通过）上架 /（退回）退回修改  
所有变更留痕；资源修改默认进入复审。

## 8. 阿里云资源规划（建议）
- RDS PostgreSQL（主库）
- OSS（图片/附件）
- Redis（缓存/热榜）
- SLB + ECS / ACK（部署）
- CDN（图片加速）
- 短信/邮件服务（登录/通知）

## 9. MVP 里程碑建议
- 第 1-2 周：数据结构 & 字段确认
- 第 3-4 周：API + App MVP
- 第 5 周：后台 + 首批录入
- 第 6 周：小范围公开使用

## 10. 下一步执行清单
1) 明确技术栈最终版本（React Native/Expo/Next.js/NestJS）
2) 输出字段字典与表结构
3) 定义 API 清单
4) 设计页面原型与交互
5) 初始化代码仓库结构


